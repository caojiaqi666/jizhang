# FlowMoney (心流记账) 产品需求文档 (PRD)

## 1. 产品概述
**核心理念**：记账不只是记录数字，更是记录当下的生活状态与情绪。让每一次记账都成为一次小小的“自我疗愈”。
**核心价值**：极速记账 + 情绪记录 + 资产清晰 + 温暖反馈。

---

## 2. 页面功能详细设计

### 2.1 页面 1：明细首页 (仪表盘) - Dashboard
**定位**：用户打开 App 的第一站，强调清晰、掌控感与温暖。

#### 2.1.1 顶部资产概览卡片
*   **UI 元素**：
    *   **总资产/净资产**：大字展示，支持点击“眼睛”图标隐藏/显示金额。
    *   **本月收支**：一行两列，左边显示“本月收入”，右边显示“本月支出”。
    *   **问候语**：根据当前时间（早/中/晚）显示不同的暖心文案（例如：“早安，新的一天加油！”）。
    *   **背景**：使用轻微的渐变色（根据深浅色模式适配），给人柔和的感觉。

#### 2.1.2 交易流列表 (Timeline)
*   **展示逻辑**：按日期倒序排列（今天、昨天、前天...）。
*   **单条记录样式**：
    *   **左侧**：分类图标（圆形背景）。
    *   **中间**：
        *   第一行：分类名称 + 备注（如有）。
        *   第二行：情绪 Emoji（如 😊, 😐, 😭）+ 时间（12:30）。
    *   **右侧**：金额（支出为黑色/红色，收入为绿色）。
*   **交互**：
    *   点击：进入详情页（可编辑/删除）。
    *   左滑：快速删除。

#### 2.1.3 底部导航栏 (Tab Bar)
*   **布局**：明细 | 统计 | **(+)** | 发现 | 我的。
*   **(+) 按钮**：突出显示，点击触发“极速记账”弹窗。

---

### 2.2 页面 2：极速记账页 (核心交互) - Quick Record
**定位**：App 的灵魂功能，追求“3秒完成”。

#### 2.2.1 交互模式
*   **弹窗式**：半屏或全屏弹窗，从底部滑出，背景半透明模糊。

#### 2.2.2 核心区域
1.  **类型切换**：顶部胶囊 Tab（支出 | 收入 | 转账）。
2.  **金额输入**：
    *   显示当前输入金额（超大字体）。
    *   右侧显示当前日期（默认今天，点击可切换）。
3.  **分类选择 (Grid)**：
    *   3行4列或2行4列的图标网格。
    *   **智能排序**：根据当前时间段（如早晨优先显示早餐、交通）或用户习惯自动排序。
4.  **情绪与备注 (特色功能)**：
    *   **情绪选择条**：
        *   😊 开心（花得值/赚到了）
        *   😐 平淡（日常开销）
        *   😰 焦虑（不得不花/压力大）
        *   😭 后悔（冲动消费）
        *   🥰 感恩（给家人/朋友）
    *   **备注输入框**：单行文本，支持语音输入转文字（后续规划）。
5.  **数字键盘**：
    *   包含数字 0-9, 小数点。
    *   功能键：+ (加法), - (减法), 完成 (OK)。
    *   **反馈**：点击“完成”时，根据选择的情绪弹出 Toast（例如选“后悔”提示：“没关系，下次注意就好”）。

---

### 2.3 页面 3：统计分析页 - Statistics
**定位**：理性分析与感性回顾。

#### 2.3.1 顶部筛选
*   维度：周 / 月 / 年 / 自定义。
*   日期选择器。

#### 2.3.2 核心图表
1.  **收支构成 (饼图)**：展示各分类占比。
2.  **收支趋势 (折线图)**：展示每日/每月变化趋势。
3.  **情绪账单 (特色)**：
    *   **分析维度**：按“情绪”统计支出。
    *   **洞察**：展示“开心”花了多少，“焦虑”花了多少。帮助用户觉察情绪性消费。

#### 2.3.3 排行榜
*   分类支出 Top 5。
*   单笔大额支出 Top 5。

#### 2.3.4 预算卡片
*   展示本月预算总额、剩余金额。
*   进度条变色预警（剩余 < 20% 变红）。

---

### 2.4 页面 4：发现页 - Discovery
**定位**：提供情绪价值、营销推广与广告变现。

#### 2.4.1 存钱挑战 (Gamification)
*   **365天存钱法**：每天存入 1~365 元，一年可存 66795 元。
*   **52周存钱法**：每周递增存钱。
*   **许愿池**：设定一个目标（如买MacBook），记录进度。

#### 2.4.2 生活灵感 (信息流/广告位)
*   **内容**：极简生活、理财小知识、消费观文章。
*   **原生广告**：穿插在内容中的商品推荐（高颜值文具、理财课等）。

---

### 2.5 页面 5：个人中心 - Profile
**定位**：账户管理与会员变现。

#### 2.5.1 会员卡片 (Pro)
*   **状态**：Free / Pro。
*   **权益引导**：去广告、无限历史数据、导出 Excel、高级情绪报告。
*   **升级按钮**。

#### 2.5.2 功能列表
*   **多账本管理**：日常/旅行/装修/恋爱账本。
*   **数据管理**：导入/导出 (CSV/Excel)。
*   **提醒设置**：每日记账提醒。
*   **个性化**：主题色切换、图标风格切换。

---

## 3. 商业模式 (Monetization)
1.  **Freemium**：
    *   免费版：基础功能，有Banner广告。
    *   Pro版：¥9.9/月，解锁所有高级功能，无广告。
2.  **广告**：发现页信息流广告，开屏广告（尽量少用）。

## 4. 技术准备 (Supabase Schema 预览)
*   `users` (用户基础信息, 会员状态)
*   `categories` (图标, 名称, 类型)
*   `transactions` (金额, 分类, 时间, **情绪**, 备注)
*   `budgets` (分类预算, 总预算)

